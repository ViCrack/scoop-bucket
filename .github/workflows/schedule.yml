on:
  workflow_dispatch:
  schedule:
    # 这里可以调整时间
    # 每3小时的第5分钟执行一次
    - cron: "5 */3 * * *"
    # 每天北京时间晚上7点、8点、9点执行（UTC时间需要减8小时）
    - cron: "0 11 * * *"  # 北京时间晚上7点（UTC 11:00）
    - cron: "0 12 * * *"  # 北京时间晚上8点（UTC 12:00）
    - cron: "0 13 * * *"  # 北京时间晚上9点（UTC 13:00）
name: Excavator
jobs:
  excavate:
    name: Excavate
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@main
      - name: Excavate
        uses: ScoopInstaller/GithubActions@main
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          SKIP_UPDATED: "1"
          USER_NAME: "ViCrack"
          USER_EMAIL: "18179821+ViCrack@users.noreply.github.com"
          BUCKET: "ViCrack/scoop-bucket"
          THROW_ERROR: "0"
